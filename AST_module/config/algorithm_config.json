{
  "meta": {
    "version": "1.0.0",
    "description": "AST语音转录算法配置",
    "target_scenario": "情感博主直播",
    "last_updated": "2024-12-19"
  },
  "audio_processing": {
    "sample_rate": 16000,
    "frame_size": 1024,
    "hop_size": 512,
    "noise_reduction": {
      "enabled": true,
      "strength": 0.8,
      "spectral_gate_threshold": 0.01,
      "smoothing_window": 5
    },
    "volume_normalization": {
      "enabled": true,
      "target_level": 0.7,
      "target_rms": 0.1,
      "gain_limits": [0.1, 10.0]
    },
    "silence_detection": {
      "threshold": 0.01,
      "min_duration": 0.1,
      "frame_length_ms": 25,
      "hop_length_ms": 10
    },
    "quality_assessment": {
      "snr_weight": 0.4,
      "rms_weight": 0.3,
      "spectral_flatness_weight": 0.3,
      "noise_level_threshold": 0.3
    }
  },
  "confidence_calculation": {
    "weights": {
      "vosk_confidence": 0.4,
      "word_frequency": 0.25,
      "context_coherence": 0.2,
      "audio_quality": 0.15
    },
    "word_frequency": {
      "emotion_words_weight": 1.5,
      "product_words_weight": 1.3,
      "slang_words_weight": 1.1,
      "common_words_weight": 1.0,
      "unknown_words_penalty": 0.5
    },
    "context_coherence": {
      "window_size": 5,
      "internal_weight": 0.4,
      "external_weight": 0.35,
      "pattern_weight": 0.25,
      "min_coherence_score": 0.3
    },
    "emotion_boost": {
      "max_boost": 0.15,
      "intensity_factor": 0.5,
      "confidence_factor": 0.3,
      "text_emotion_factor": 0.2
    }
  },
  "emotion_analysis": {
    "speech_rate": {
      "default_rate": 150.0,
      "ranges": {
        "very_slow": [60, 100],
        "slow": [100, 140],
        "normal": [140, 180],
        "fast": [180, 220],
        "very_fast": [220, 300]
      }
    },
    "emotion_mapping": {
      "excited": {
        "speech_rate_range": [180, 250],
        "intensity_threshold": 0.6,
        "pitch_variance_min": 50,
        "energy_variance_min": 0.3
      },
      "joyful": {
        "speech_rate_range": [150, 200],
        "intensity_threshold": 0.5,
        "pitch_variance_min": 30,
        "energy_variance_min": 0.2
      },
      "calm": {
        "speech_rate_range": [120, 160],
        "intensity_threshold": 0.3,
        "pitch_variance_max": 20,
        "energy_variance_max": 0.1
      },
      "frustrated": {
        "speech_rate_range": [100, 140],
        "intensity_threshold": 0.4,
        "pitch_variance_min": 40,
        "energy_variance_min": 0.4
      },
      "anxious": {
        "speech_rate_range": [160, 220],
        "intensity_threshold": 0.5,
        "pitch_variance_min": 60,
        "energy_variance_min": 0.35
      }
    },
    "prosody_analysis": {
      "fundamental_frequency": {
        "min_freq": 50,
        "max_freq": 400,
        "female_range": [150, 300],
        "male_range": [80, 200]
      },
      "pitch_analysis": {
        "frame_length": 0.025,
        "hop_length": 0.01,
        "variance_smoothing": 3
      },
      "energy_analysis": {
        "frame_length": 0.025,
        "hop_length": 0.01,
        "normalization": true
      }
    }
  },
  "text_postprocessing": {
    "emotion_correction": {
      "enabled": true,
      "confidence_threshold": 0.8,
      "context_sensitivity": true
    },
    "product_standardization": {
      "enabled": true,
      "brand_weight": 1.5,
      "confidence_threshold": 0.9,
      "case_insensitive": true
    },
    "slang_normalization": {
      "enabled": true,
      "confidence_threshold": 0.75,
      "preserve_intensity": true,
      "context_aware": true
    },
    "grammar_correction": {
      "enabled": true,
      "confidence_threshold": 0.7,
      "max_corrections_per_sentence": 3
    },
    "punctuation_optimization": {
      "enabled": true,
      "add_missing_punctuation": true,
      "normalize_spacing": true,
      "emotion_based_punctuation": true
    },
    "processing_confidence": {
      "base_confidence": 0.8,
      "correction_penalty_threshold": 0.5,
      "max_penalty": 0.3
    }
  },
  "adaptive_threshold": {
    "base_threshold": 0.6,
    "adjustment_limits": {
      "min_threshold": 0.3,
      "max_threshold": 0.9,
      "max_adjustment": 0.1
    },
    "weights": {
      "audio_quality": 0.3,
      "emotion_intensity": 0.2,
      "historical_performance": 0.3,
      "real_time": 0.2
    },
    "audio_quality_mapping": {
      "high_quality": {
        "noise_level": [0.0, 0.2],
        "volume_level": [0.6, 1.0],
        "clarity_score": [0.8, 1.0],
        "adjustment": -0.1
      },
      "good_quality": {
        "noise_level": [0.0, 0.3],
        "volume_level": [0.5, 1.0],
        "clarity_score": [0.6, 1.0],
        "adjustment": -0.05
      },
      "medium_quality": {
        "noise_level": [0.2, 0.5],
        "volume_level": [0.3, 0.8],
        "clarity_score": [0.4, 0.8],
        "adjustment": 0.0
      },
      "poor_quality": {
        "noise_level": [0.4, 0.8],
        "volume_level": [0.1, 0.6],
        "clarity_score": [0.2, 0.6],
        "adjustment": 0.1
      },
      "very_poor_quality": {
        "noise_level": [0.6, 1.0],
        "volume_level": [0.0, 0.4],
        "clarity_score": [0.0, 0.4],
        "adjustment": 0.2
      }
    },
    "emotion_adjustment": {
      "excited": {"base_adjustment": -0.1, "intensity_factor": 1.2},
      "joyful": {"base_adjustment": -0.05, "intensity_factor": 1.0},
      "calm": {"base_adjustment": 0.05, "intensity_factor": 0.8},
      "frustrated": {"base_adjustment": 0.1, "intensity_factor": 1.1},
      "anxious": {"base_adjustment": 0.08, "intensity_factor": 1.3},
      "neutral": {"base_adjustment": 0.0, "intensity_factor": 1.0}
    },
    "historical_analysis": {
      "window_size": 100,
      "min_samples": 10,
      "target_metrics": {
        "accuracy": 0.8,
        "precision": 0.75,
        "recall": 0.8,
        "f1_score": 0.77
      },
      "adaptation_rate": 0.1,
      "smoothing_factor": 0.8
    }
  },
  "performance_targets": {
    "accuracy": {
      "minimum": 0.8,
      "target": 0.85,
      "optimal": 0.9
    },
    "latency": {
      "max_processing_time_ms": 2000,
      "target_processing_time_ms": 1000,
      "optimal_processing_time_ms": 500
    },
    "confidence": {
      "minimum_average": 0.6,
      "target_average": 0.75,
      "optimal_average": 0.85
    },
    "error_rates": {
      "max_false_positive_rate": 0.15,
      "max_false_negative_rate": 0.2,
      "target_false_positive_rate": 0.1,
      "target_false_negative_rate": 0.15
    }
  },
  "optimization_settings": {
    "enable_caching": true,
    "cache_size": 1000,
    "enable_parallel_processing": false,
    "max_concurrent_requests": 10,
    "enable_metrics_collection": true,
    "debug_mode": false,
    "log_level": "INFO"
  },
  "live_streaming_specific": {
    "session_management": {
      "max_session_duration_hours": 8,
      "context_retention_minutes": 30,
      "cleanup_interval_minutes": 5
    },
    "real_time_optimization": {
      "adaptive_quality": true,
      "dynamic_threshold": true,
      "emotion_continuity": true,
      "speaker_adaptation": true
    },
    "performance_monitoring": {
      "cpu_usage_threshold": 80,
      "memory_usage_threshold": 75,
      "response_time_alert_ms": 3000,
      "accuracy_drop_alert": 0.1
    }
  }
}