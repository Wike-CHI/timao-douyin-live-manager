# ====================
# 提猫直播助手环境配置
# ====================
# 复制此文件为 .env 并填写您的配置

# ==================== AI 服务商配置 ====================

# 主服务商（必填）
AI_SERVICE=qwen                          # 服务商类型: qwen/openai/deepseek/doubao/glm
AI_API_KEY=sk-your-api-key-here          # 您的 API 密钥
AI_MODEL=qwen-plus                       # 默认模型

# API 地址（可选，留空使用默认值）
AI_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1

# ==================== 备用服务商（可选）====================

# DeepSeek（经济型）
# DEEPSEEK_API_KEY=sk-your-deepseek-key
# DEEPSEEK_BASE_URL=https://api.deepseek.com/v1

# OpenAI
# OPENAI_API_KEY=sk-your-openai-key
# OPENAI_BASE_URL=https://api.openai.com/v1

# 字节豆包
# DOUBAO_API_KEY=your-doubao-key
# DOUBAO_BASE_URL=https://ark.cn-beijing.volces.com/api/v3

# 智谱 ChatGLM
# GLM_API_KEY=your-glm-key
# GLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4

# ==================== 推荐配置 ====================

# 方案 1: 成本优先（推荐新手）
# AI_SERVICE=qwen
# AI_MODEL=qwen-turbo
# 成本: ¥0.2/百万tokens

# 方案 2: 平衡型（推荐）⭐
# AI_SERVICE=qwen
# AI_MODEL=qwen-plus
# 成本: ¥0.4/百万tokens

# 方案 3: 质量优先
# AI_SERVICE=qwen
# AI_MODEL=qwen-max
# 成本: ¥4.0/百万tokens

# 方案 4: 极致省钱
# AI_SERVICE=deepseek
# AI_MODEL=deepseek-chat
# 成本: ¥0.1/百万tokens

# ==================== 应用配置 ====================

# 应用端口
VITE_PORT=30013                          # 前端端口
FASTAPI_PORT=10090                       # 后端端口

# 日志级别
LOG_LEVEL=INFO                           # DEBUG/INFO/WARNING/ERROR

# 安全配置（重要！生产环境必须设置）
SECRET_KEY=                              # JWT 签名密钥（必须设置，64位随机字符串）
ENCRYPTION_KEY=                          # 数据加密密钥（可选，32位随机字符串）

# Redis 配置（推荐启用，用于会话管理和应用缓存）
REDIS_ENABLED=false                      # 是否启用 Redis（true/false）
REDIS_HOST=localhost                     # Redis 服务器地址
REDIS_PORT=6379                          # Redis 端口
REDIS_DB=0                               # Redis 数据库编号
REDIS_PASSWORD=                          # Redis 密码（可选）
REDIS_MAX_CONNECTIONS=10                 # 最大连接数
REDIS_CACHE_TTL=3600                     # 缓存默认过期时间（秒）

# 数据库配置（开发和生产环境统一使用 MySQL）
DB_TYPE=mysql                            # 数据库类型: mysql 或 sqlite

# MySQL 配置（开发环境默认值）
MYSQL_HOST=localhost                     # MySQL 服务器地址
MYSQL_PORT=3306                          # MySQL 端口
MYSQL_USER=timao                         # MySQL 用户名
MYSQL_PASSWORD=timao123456               # MySQL 密码（开发环境默认，生产环境必须修改！）
MYSQL_DATABASE=timao_live                # 数据库名

# SQLite 配置（备用）
# DB_TYPE=sqlite
# DATABASE_PATH=data/timao.db

# 数据持久化
ENABLE_AUDIO_LOGGING=false               # 是否保存音频片段
ENABLE_ANALYTICS=true                    # 是否启用分析功能

# ==================== 抖音配置 ====================

# 抖音直播间（可选，可在界面配置）
# DOUYIN_ROOM_ID=your-room-id
# DOUYIN_COOKIE=your-cookie

# ==================== 语音识别配置 ====================

# SenseVoice 模型路径（默认自动下载）
# SENSEVOICE_MODEL_PATH=models/models/iic/SenseVoiceSmall

# VAD 模型路径
# VAD_MODEL_PATH=models/silero-vad

# 是否使用 GPU
# USE_GPU=false

# ==================== 高级配置 ====================

# AI 超时设置（秒）
AI_TIMEOUT=30

# AI 重试次数
AI_MAX_RETRIES=2

# 最大并发请求
MAX_CONCURRENT_REQUESTS=5

# ==================== 演示模式 ====================

# 演示模式开关（跳过登录和订阅验证）
DEMO_MODE=false                          
DEMO_USER_NAME=demo_user                 
DEMO_USER_EMAIL=demo@example.com         
DEMO_USER_NICKNAME=演示用户              

# ==================== 开发调试 ====================

# 开发模式
# NODE_ENV=development
# PYTHON_ENV=development

# 启用调试日志
# DEBUG=true

# 跳过 AI 调用（测试用）
# SKIP_AI_CALLS=false

# ==================== 说明 ====================

# 1. 配置优先级：
#    代码动态配置 > 环境变量(.env) > 内置默认值

# 2. 快速开始（MySQL）：
#    - Windows: 运行 setup-dev-mysql.bat
#    - Linux/macOS: 运行 bash setup-dev-mysql.sh
#    - Docker: docker-compose -f docker-compose.mysql.yml up -d

# 3. 获取 API Key：
#    - 通义千问: https://dashscope.console.aliyun.com/apiKey
#    - OpenAI: https://platform.openai.com/api-keys
#    - DeepSeek: https://platform.deepseek.com/api_keys

# 4. 管理界面（后端运行在 10090 端口）：
#    - 前端界面: http://localhost:30013
#    - AI 网关: http://localhost:10090/static/ai_gateway_manager.html
#    - 成本监控: http://localhost:10090/static/ai_usage_monitor.html
#    - API 文档: http://localhost:10090/docs

# 5. 切换服务商：
#    - Web 界面一键切换
#    - API: POST http://localhost:10090/api/ai_gateway/switch
#    - 或修改此文件后重启

# 6. 安全提示：
#    - 不要将 .env 文件提交到 Git（已在 .gitignore 中）
#    - 生产环境必须修改 SECRET_KEY、ENCRYPTION_KEY、MYSQL_PASSWORD
#    - 定期更换 API Key
#    - 监控异常调用

# ====================
# 配置完成后运行: npm run dev
# 前端: http://localhost:30013
# 后端: http://localhost:10090
# ====================
