# 提猫直播助手 MVP - 需求对齐文档

## 项目重新对齐分析

### 原有技术栈 vs 新技术需求

| 模块 | 原有方案 | 新技术需求 | 对齐决策 |
|-----|---------|------------|----------|
| 桌面端 | React + Vite + Ant Design | HTML + CSS + Element UI | ✅ 采用新方案，更轻量快速 |
| 数据抓取 | 模拟数据/自研爬虫 | 开源K2项目 | ✅ 采用K2，成熟稳定 |
| 音频识别 | OpenAI Whisper API | VOSK本地识别 | ✅ 采用VOSK，降低成本 |
| 后端架构 | FastAPI + SQLite | 保持不变 | ✅ 继续使用，架构稳定 |
| 部署方式 | Docker | 保持不变 | ✅ 继续使用 |

### 技术选型理由分析

#### 1. HTML + CSS + Element UI （桌面端）
**优势**：
- 开发速度快，无需复杂构建配置
- Element UI 组件丰富，UI美观
- 可以快速集成Electron实现桌面应用
- 符合用户可爱风格设计要求

**实现方式**：
- 直接HTML文件 + CDN引入Element UI
- 使用原生JavaScript处理交互
- WebSocket连接后端实时数据

#### 2. K2开源项目（抖音直播数据抓取）
**优势**：
- 成熟的开源解决方案
- 已处理抖音反爬机制
- 社区维护，问题响应快
- 节省大量逆向工程时间

**集成方案**：
- Python集成K2库
- 封装为独立的爬取服务
- 通过消息队列与主应用解耦

#### 3. VOSK（音频识别）
**优势**：
- 本地运行，无API调用费用
- 支持中文识别
- 轻量级模型，响应快
- 开源免费，无使用限制

**技术实现**：
- Python集成VOSK库
- 实时音频流处理
- 支持多种音频格式

### 需求澄清

#### 核心功能重新定义
1. **实时数据抓取**：使用K2抓取抖音直播间评论
2. **语音转录**：使用VOSK实时转录主播语音
3. **AI分析**：本地NLP处理 + 轻量级AI模型
4. **桌面界面**：Element UI快速构建美观界面

#### 潜在问题与决策
| 问题 | 风险级别 | 解决方案 |
|-----|---------|----------|
| K2项目稳定性 | 中 | 准备备用方案，监控项目状态 |
| VOSK中文识别准确率 | 中 | 测试验证，必要时降级到在线API |
| Element UI学习成本 | 低 | 文档完善，快速上手 |
| 本地AI模型性能 | 中 | 使用轻量级模型，云端备份方案 |

#### 验收标准
- [ ] K2成功抓取抖音评论，延迟<3秒
- [ ] VOSK语音识别准确率>85%
- [ ] Element UI界面美观，符合可爱风格
- [ ] 整体系统在3天内完成基础功能

#### 边界限制
**范围内**：
- ✅ 基础评论抓取和展示
- ✅ 简单语音转录
- ✅ 基础AI分析（情感分析）
- ✅ 桌面端界面

**范围外**：
- ❌ 复杂的多平台支持
- ❌ 高级AI模型训练
- ❌ 企业级用户管理
- ❌ 移动端应用

### 技术风险评估

#### 高风险项
1. **K2项目依赖风险**
   - 抖音平台变更可能导致失效
   - 解决方案：监控项目更新，准备应急方案

2. **VOSK本地性能**
   - 可能存在识别延迟或准确率问题
   - 解决方案：优化音频处理流程，准备云端备份

#### 中风险项
1. **Element UI集成复杂度**
2. **3天开发时间压力**

#### 低风险项
1. **后端架构稳定性**
2. **基础功能实现**

---

**对齐结论**：
- 新技术栈更适合快速MVP开发
- 成本更低，本地化程度更高
- 3天开发周期可行，但需要严格按计划执行
- 风险可控，有应急预案

**下一步**：进入架构设计阶段，详细设计各模块接口和实现方案